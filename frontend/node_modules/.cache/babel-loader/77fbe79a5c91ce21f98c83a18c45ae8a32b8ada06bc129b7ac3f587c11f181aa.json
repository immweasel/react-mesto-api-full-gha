{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kira\\\\Desktop\\\\\\u0432\\u0451\\u0440\\u0441\\u0442\\u043A\\u0430\\\\\\u042F\\u041F\\\\dev\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\ButtonLike.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport api from \"../utils/Api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ButtonLike(_ref) {\n  _s();\n  let {\n    likes,\n    myid,\n    cardid\n  } = _ref;\n  const [isLike, setIsLike] = useState(false);\n  const [likeCount, setLikeCount] = useState(likes.length);\n  useEffect(() => {\n    setIsLike(likes.some(element => myid === element));\n  }, [likes, myid]);\n  function handleLikeClick() {\n    if (isLike) {\n      api.unlikeCard(cardid).then(res => {\n        setIsLike(false);\n        setLikeCount(res.likes.length);\n      }).catch(err => console.log(`Что-то пошло не так: ${err}`));\n    } else {\n      api.likeCard(cardid).then(res => {\n        setIsLike(true);\n        setLikeCount(res.likes.length);\n      }).catch(err => console.log(`Что-то пошло не так: ${err}`));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    className: `groups__like ${isLike ? \"groups__like_active\" : \"\"}`,\n    onClick: handleLikeClick,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"groups__like-counter\",\n      children: likeCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(ButtonLike, \"coYfxFCvVrx5BaqUROcpyKFC+7Y=\");\n_c = ButtonLike;\nexport default ButtonLike;\n\n/*\nsetIsLike(likes.some((element) => myid === element._id));\n\n\n*/\nvar _c;\n$RefreshReg$(_c, \"ButtonLike\");","map":{"version":3,"names":["useEffect","useState","api","jsxDEV","_jsxDEV","ButtonLike","_ref","_s","likes","myid","cardid","isLike","setIsLike","likeCount","setLikeCount","length","some","element","handleLikeClick","unlikeCard","then","res","catch","err","console","log","likeCard","type","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Kira/Desktop/вёрстка/ЯП/dev/react-mesto-api-full-gha/frontend/src/components/ButtonLike.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../utils/Api\";\n\nfunction ButtonLike({ likes, myid, cardid }) {\n  const [isLike, setIsLike] = useState(false);\n  const [likeCount, setLikeCount] = useState(likes.length);\n\n  useEffect(() => {\n    setIsLike(likes.some((element) => myid === element));\n  }, [likes, myid]);\n\n  function handleLikeClick() {\n    if (isLike) {\n      api\n        .unlikeCard(cardid)\n        .then((res) => {\n          setIsLike(false);\n          setLikeCount(res.likes.length);\n        })\n        .catch((err) => console.log(`Что-то пошло не так: ${err}`));\n    } else {\n      api\n        .likeCard(cardid)\n        .then((res) => {\n          setIsLike(true);\n          setLikeCount(res.likes.length);\n        })\n        .catch((err) => console.log(`Что-то пошло не так: ${err}`));\n    }\n  }\n\n  return (\n    <button\n      type=\"button\"\n      className={`groups__like ${isLike ? \"groups__like_active\" : \"\"}`}\n      onClick={handleLikeClick}\n    >\n      <p className=\"groups__like-counter\">{likeCount}</p>\n    </button>\n  );\n}\n\nexport default ButtonLike;\n\n/*\nsetIsLike(likes.some((element) => myid === element._id));\n\n\n*/"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,SAASC,UAAUA,CAAAC,IAAA,EAA0B;EAAAC,EAAA;EAAA,IAAzB;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EAAO,CAAC,GAAAJ,IAAA;EACzC,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAACO,KAAK,CAACO,MAAM,CAAC;EAExDf,SAAS,CAAC,MAAM;IACdY,SAAS,CAACJ,KAAK,CAACQ,IAAI,CAAEC,OAAO,IAAKR,IAAI,KAAKQ,OAAO,CAAC,CAAC;EACtD,CAAC,EAAE,CAACT,KAAK,EAAEC,IAAI,CAAC,CAAC;EAEjB,SAASS,eAAeA,CAAA,EAAG;IACzB,IAAIP,MAAM,EAAE;MACVT,GAAG,CACAiB,UAAU,CAACT,MAAM,CAAC,CAClBU,IAAI,CAAEC,GAAG,IAAK;QACbT,SAAS,CAAC,KAAK,CAAC;QAChBE,YAAY,CAACO,GAAG,CAACb,KAAK,CAACO,MAAM,CAAC;MAChC,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAE,wBAAuBF,GAAI,EAAC,CAAC,CAAC;IAC/D,CAAC,MAAM;MACLrB,GAAG,CACAwB,QAAQ,CAAChB,MAAM,CAAC,CAChBU,IAAI,CAAEC,GAAG,IAAK;QACbT,SAAS,CAAC,IAAI,CAAC;QACfE,YAAY,CAACO,GAAG,CAACb,KAAK,CAACO,MAAM,CAAC;MAChC,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAE,wBAAuBF,GAAI,EAAC,CAAC,CAAC;IAC/D;EACF;EAEA,oBACEnB,OAAA;IACEuB,IAAI,EAAC,QAAQ;IACbC,SAAS,EAAG,gBAAejB,MAAM,GAAG,qBAAqB,GAAG,EAAG,EAAE;IACjEkB,OAAO,EAAEX,eAAgB;IAAAY,QAAA,eAEzB1B,OAAA;MAAGwB,SAAS,EAAC,sBAAsB;MAAAE,QAAA,EAAEjB;IAAS;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7C,CAAC;AAEb;AAAC3B,EAAA,CArCQF,UAAU;AAAA8B,EAAA,GAAV9B,UAAU;AAuCnB,eAAeA,UAAU;;AAEzB;AACA;AACA;AACA;AACA;AAJA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}